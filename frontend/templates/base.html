<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>{% block title %}Bus Booking System{% endblock %}</title>
        <link rel="stylesheet" href="{{ url_for('static', path='/css/normalize.css') }}">
        <link rel="stylesheet" href="{{ url_for('static', path='/css/style.css') }}">
        {% block extra_css %}{% endblock %}
    </head>

    <body>
        <header class="header__container">
            <!-- Navigation (Server-side rendered) -->
            {% if show_nav %}
            <nav class="navbar">
                <div class="nav-container">
                    <h2 class="nav__title">{{ app_name | default('Bus Booking System') }}</h2>

                    {% block nav_links %}
                    <div class="nav__links">
                        <a class="nav__link nav__link-home" href="/">Home</a>
                        <a class="nav__link nav__link-login" href="/auth/login">Login</a>
                        <a class="nav__link nav__link-register" href="/auth/register">Register</a>
                    </div>
                    {% endblock %}
                </div>
            </nav>
            {% endif %}
        </header>

        <main>
            <!-- Main content area -->
            {% block content %}
            <!-- Child templates fill this block --> 
            {% endblock %}
        </main>

        <!-- Footer (Server-side rendered) -->
        {% if show_footer %}
        <footer class="footer">
            <p>&copy; 2025 {{ app_name | default('Bus Booking System') }}. All rights reserved.</p>
            <p>Version: {{ version | default('1.0.0') }}</p>
        </footer>
        {% endif %}

        <!-- Load JavaScript (static files) -->
        <script src="{{ url_for('static', path='/js/api.js') }}"></script>

        {% block extra_js %}
        <!-- Child templates can add more JS here -->
        {% endblock %}
    </body>
</html>