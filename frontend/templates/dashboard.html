{% extends 'base.html' %}

{% block title %}Dashboard - Bus Booking System{% endblock %}

{% block nav_links %}
<div class="nav-links">
    <p id="userInfo">Loading...</p>
    <button onclick="handleLogout()" class="nav-links__btn">Logout</button>
</div>
{% endblock %}

{% block content %}

<div class="container">
    <div class="dashboard-card">
        <h1 class="dashboard-card__title">Welcome to Your Dashboard</h1>

        <!-- Server can inject initial data -->
        {% if initial_data %}
        <div class="info-box">
            <p><strong>Server message:</strong> {{ initial_data.message }}</p>
            <p><strong>Server Time:</strong> {{ initial_data.timestamp }}</p>
        </div>
        {% endif %}

        <!-- JavaScript will populate this -->
        <div id="userDetails" class="user-details">
            <p>Loading user details...</p>
        </div>
    </div>
</div>

{% endblock %}

{% block extra_js %}
<script type="module" src="/static/js/auth/dashboard.js"></script>
{% endblock %}