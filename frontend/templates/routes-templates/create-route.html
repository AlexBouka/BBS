{% extends "./base.html" %}

{% block title %}Create Route - Bus Booking System{% endblock %}
{% block extra_css %}

<link rel="stylesheet" href="{{ url_for('static', path='/css/create_route.css') }}">

{% endblock %}

{% block content %}

<div class="container">
    <div class="form-card">
        <h1 class="form-card__title">Create Route</h1>
        <p class="form-card__subtitle">Add a new bus route to the system</p>
        <form class="form" id="createRouteForm">

            <!-- Basic Info -->
            <div class="form-section">
                <h3 class="form-section__title">Basic Information</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label for="routeNumber">Route Number *</label>
                        <input type="text" id="routeNumber" class="form__input" required placeholder="Enter route number">
                    </div>
                    <div class="form-group">
                        <label for="routeName">Route Name</label>
                        <input type="text" id="routeName" class="form__input" placeholder="Enter route name">
                    </div>
                </div>
            </div>

            <!-- Origin & Destination -->
            <div class="form-section">
                <h3 class="form-section__title">Route Details</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label for="originCity">Origin City *</label>
                        <input type="text" id="originCity" class="form__input" required placeholder="Enter origin city">
                    </div>
                    <div class="form-group">
                        <label for="destinationCity">Enter Destination City *</label>
                        <input type="text" id="destinationCity" class="form__input" required placeholder="Enter destination city">
                    </div>
                    <div class="form-group">
                        <label for="distanceKm">Distance (km) *</label>
                        <input type="text" id="distanceKm" class="form__input" required placeholder="Enter distance">
                    </div>
                    <div class="form-group">
                        <label for="durationMinutes">Duration (minutes) *</label>
                        <input type="text" id="durationMinutes" class="form__input" required placeholder="Enter duration in minutes">
                    </div>
                    <div class="form-group">
                        <label for="basePrice">Base Price *</label>
                        <input type="text" id="basePrice" class="form__input" required placeholder="Enter base price">
                    </div>
                </div>
            </div>

            <!-- Intermediate Stops -->
            <div class="form-section">
                <h3 class="form-section__title">Intermediate Stops</h3>
                <p class="form-section__help-text">Add stops along the route (optional)</p>
                <div id="stopsContainer">
                    <!-- Stops will be dynamically added here -->
                </div>
                <button type="button" class="form__add-stop-btn" id="addStopBtn">+ Add Stop</button>
            </div>

            <!-- Route Options -->
            <div class="form-section">
                <h3 class="form-section__title">Route Options</h3>
                <div class="form-row">
                    <div class="form-group checkbox-group">
                        <label>
                            <input type="checkbox" id="isExpress">
                            <span>Express Route (no stops)</span>
                        </label>
                    </div>
                    <div class="form-group checkbox-group">
                        <label>
                            <input type="checkbox" id="isOvernight">
                            <span>Overnight Route</span>
                        </label>
                    </div>
                    <div class="form-group checkbox-group">
                        <label>
                            <input type="checkbox" id="operatesDaily" checked>
                            <span>Operates Daily</span>
                        </label>
                    </div>
                </div>

                <!-- Operating Days (shown when not daily) -->
                <div id="operatingDaysSection" style="display: none;">
                    <label>Operating Days</label>
                    <div class="checkbox-group-inline">
                        <label><input type="checkbox" name="operatingDay" value="monday"> Monday</label>
                        <label><input type="checkbox" name="operatingDay" value="tuesday"> Tuesday</label>
                        <label><input type="checkbox" name="operatingDay" value="wednesday"> Wednesday</label>
                        <label><input type="checkbox" name="operatingDay" value="thursday"> Thursday</label>
                        <label><input type="checkbox" name="operatingDay" value="friday"> Friday</label>
                        <label><input type="checkbox" name="operatingDay" value="saturday"> Saturday</label>
                        <label><input type="checkbox" name="operatingDay" value="sunday"> Sunday</label>
                    </div>
                </div>
            </div>

            <!-- Additional Information -->
            <div class="form-section">
                <h3 class="form-section__title">Additional Information</h3>
                <div class="form-group">
                    <label for="description">Description</label>
                    <textarea id="description" rows="3"></textarea>
                </div>
                <div class="form-group">
                    <label for="notes">Internal Notes</label>
                    <textarea id="notes" rows="2" placeholder="Staff notes, special instructions, etc."></textarea>
                </div>
            </div>

            <!-- Error display -->
            <div id="errorMessage" class="error-message" style="display: none;"></div>

            <!-- Submit & Cancel buttons -->
            <div class="form-actions">
                <button type="button" onclick="window.history.back()" class="form__cancel-btn">Cancel</button>
                <button type="submit" id="submitBtn" class="form__submit-btn">Create Route</button>
            </div>
        </form>
    </div>
</div>

{% endblock %}

{% block extra_js %}

<script type="module" src="/static/js/routes/create_route.js"></script>

{% endblock %}